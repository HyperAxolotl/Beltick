<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Notificaciones</title>
    </h:head>

    <h:body>
        <ui:composition template="plantillas/vista2.xhtml">
            <ui:define name="content">
                <center>
                    <div id="container-notif" align="center">
                        <h2 style="color:black; font-weight: bold; margin-right: 10px;">Notificaciones</h2>                            
                        <hr style="width: 800px; margin-left: -100px; margin-bottom: 30px;"></hr>
                        <h:form id="notificaciones">

                            <h:outputText value="Tienes #{sesionC.notificacionesNuevas} notificaciones nuevas" style="color: gray;"/>
                            <p:dataTable id="tablaNotificacionesC" value="#{notificacionC.lstNotificacionesC}" paginatorPosition="bottom"
                                         var="notificacion" widgetVar="tablaNotificacionesC" rendered="#{sesionC.verificarSesion() and sesionC.verificarTipo()}" 
                                         rows="10" style="margin-bottom:20px; margin-top: 20px;" paginator="true">

                                <p:column>
                                    <div class="panel panel-default" id="panel-notif">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">
                                                <h:outputText value="#{notificacion.titulo}" style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                                <h:outputText value="Fecha: #{notificacionC.formateaFecha(notificacion.fecha)}" style="float:right; font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                            </h3>
                                        </div>
                                        <div class="panel-body">
                                            <h:outputText value="#{notificacion.contenido}" style="font-family: 'Arimo', sans-serif; font-size: 13px; margin-top: 0px;"/>
                                        </div>
                                    </div>
                                </p:column>

                            </p:dataTable>

                            <p:dataTable id="tablaNotificacionesP" value="#{notificacionC.lstNotificacionesP}" 
                                         var="notificacion" widgetVar="tablaNotificacionesP" paginatorPosition="bottom" paginator="true" rendered="#{sesionC.verificarSesion() and sesionC.verificarTipo() eq false}" 
                                         rows="10" style="margin-bottom:20px; margin-top: 20px;" >

                                <p:column>
                                    <div class="panel panel-default" id="panel-notif">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">
                                                <h:outputText value="#{notificacion.titulo}" style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                                <h:outputText value="Fecha: #{notificacionC.formateaFecha(notificacion.fecha)}" style="float:right; font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                            </h3>
                                        </div>
                                        <div class="panel-body">
                                            <h:outputText value="#{notificacion.contenido}" style="font-family: 'Arimo', sans-serif; font-size: 13px; margin-top: 0px;"/>
                                        </div>
                                    </div>
                                </p:column>

                            </p:dataTable>
                        </h:form>

                    </div>
                </center>
            </ui:define>
        </ui:composition>
    </h:body>
</html>