<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Mensajes</title>
    </h:head>

    <h:body>
        <ui:composition template="plantillas/vista2.xhtml">
            <ui:define name="content">
                <center>
                    <div id="container-notif">
                        <h2 style="color:black; font-weight: bold; margin-right: 10px;">Mensajes</h2>                            
                        <hr style="width: 800px; margin-left: -100px; margin-bottom: 30px;"></hr>
                        <h:form id="mensajes">

                            <p:dataTable id="tablaMensajesC" value="#{mostrarMensajesC.lstMensajesC}" 
                                         var="mensaje" widgetVar="tablaMensajesC" rendered="#{sesionC.verificarSesion() &amp;&amp; sesionC.verificarTipo()}" 
                                         rows="10" style="margin-bottom:20px" paginatorPosition="bottom" paginator="true" >

                                <p:column>
                                    <div class="panel panel-default" id="panel-notif">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">
                                                <h:link value="De: #{mensaje.pasajero.pnombre}" outcome="PerfilPasajeroIH" style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;">
                                                    <f:param name="pasajeroId" value="#{mensaje.pasajero.idPasajero}"/>
                                                </h:link>
                                                <h:outputText value="#{mostrarMensajesC.formateaFecha(mensaje.fecha)}" style="float:right; font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                            </h3>
                                        </div>
                                        <div class="panel-body">
                                            <h4  style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 14px; margin-top: 0px;">
                                                <h:outputText value="Asunto: #{mensaje.asunto}" style="font-family: 'Arimo', sans-serif;" />
                                            </h4>
                                            <h:outputText value="#{mensaje.contenido}" style="font-family: 'Arimo', sans-serif; font-size: 14px;" />
                                        </div>
                                    </div>
                                </p:column>

                            </p:dataTable>

                            <p:dataTable id="tablaMensajesP" value="#{mostrarMensajesC.lstMensajesP}" 
                                         var="mensaje" widgetVar="tablaMensajesP" paginatorPosition="bottom" paginator="true" rendered="#{sesionC.verificarSesion() &amp;&amp; sesionC.verificarTipo() eq false}" 
                                         rows="10" style="margin-bottom:20px" >

                                <p:column>
                                    <div class="panel panel-default" id="panel-notif">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">
                                                <h:link value="De: #{mensaje.chofer.cnombre}" outcome="PerfilChoferIH" style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;">
                                                    <f:param name="choferId" value="#{mensaje.chofer.idChofer}"/>
                                                </h:link>
                                                <h:outputText value="Fecha: #{mostrarMensajesC.formateaFecha(mensaje.fecha)}" style="float:right; font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 13px; margin-top: 0px;"/>
                                            </h3>
                                        </div>
                                        <div class="panel-body">
                                            <h4  style="font-family: 'Arimo', sans-serif; font-weight: bold; font-size: 14px; margin-top: 0px;">
                                                <h:outputText value="Asunto: #{mensaje.asunto}" style="font-family: 'Arimo', sans-serif;" />
                                            </h4>
                                            <h:outputText value="#{mensaje.contenido}" style="font-family: 'Arimo', sans-serif; font-size: 14px;" />
                                        </div>
                                    </div>
                                </p:column>

                            </p:dataTable>
                        </h:form>

                    </div>
                </center>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
